_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{RNiq:function(t,e,n){"use strict";n.r(e),n.d(e,"__N_SSG",(function(){return q}));var r=n("ODXe"),i=n("nKUr"),o=n("g4pe"),c=n.n(o),a=n("q1tI"),s=n("1OyB"),u=n("vuIU"),d=n("JX7q"),h=n("Ji7U"),l=n("md7G"),f=n("foSv"),p=n("YFqc"),j=n.n(p),v=n("jdka"),b=n("Tqpv");function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var i=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(t){Object(h.a)(n,t);var e=m(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).state={inViewport:!1},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&t.setState({inViewport:!0})}))}),{root:null,rootMargin:"300px"}).observe(this.domElem)}},{key:"render",value:function(){var t=this,e=this.props,n=e.photo,r=e.setWidth,o=this.state.inViewport,c={width:r?"".concat(n.displayedWidth,"px"):"100%"};return Object(i.jsxs)("div",{ref:function(e){return t.domElem=e},className:"photo","data-photo-key":n.key,style:c,children:[Object(i.jsx)(j.a,{href:"/photos/".concat(n.key),children:Object(i.jsxs)("a",{children:[Object(i.jsxs)("div",{className:"overlay-title-wrapper",children:[Object(i.jsx)("p",{className:"title",children:n.title}),Object(i.jsx)("p",{className:"location",children:n.location})]}),o&&Object(i.jsx)(v.a,{alt:n.title,src:n.sizes.xsmall.url,srcSet:n.srcSet,sizes:"(min-width: 1100px) 30vw, 100vw"})]})}),Object(i.jsx)("div",{className:"sn-dn-ns sn-mb-l",children:Object(i.jsx)(b.a,{photo:n})})]})}}]),n}(a.PureComponent),O=n("a3WO");var w=n("BsWD");function x(t){return function(t){if(Array.isArray(t))return Object(O.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(w.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(){return"undefined"!==typeof document?document.scrollWidth||document.body.clientWidth||window.innerWidth:500};function k(t){return t.filter((function(t){return"portrait"===t.mode})).length}var W=function(t){for(var e=x(t),n=Math.min(g(),2560),r=[];e.length;){var i={key:"",height:null,photos:[]},o=3,c=1,a=1,s=k(e.slice(0,5));if(s&&s<5){var u=k(e.slice(0,4)),d=k(e.slice(0,3));4===s?o=5:3===s?(o=5,c=.6,a=1.3):2===u?(o=4,c=.6,a=1.35):1===d&&(c=.5,a=1.2)}for(var h=0;h<o;h++){var l=e.shift();if(!l)return r.push(i),r;var f="portrait"===l.mode?c:a,p=8*(o+1);l.displayedWidth=(n-p)/o*f,i.photos.push(l),i.key+=l.key;var j=l.sizes.small.height/l.sizes.small.width,v=l.displayedWidth*j;i.height=i.height?Math.min(i.height,v):v}r.push(i)}return r},N=n("tyei"),P=n.n(N),R=function(t){t.onClick;return Object(i.jsxs)("div",{id:"mid-water",children:[Object(i.jsx)("p",{children:"No more photos of this type. Descend deeper to explore more."}),Object(i.jsx)("div",{className:"arrow"})]})};function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var i=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var S=function(t){Object(h.a)(n,t);var e=E(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).updateWidth=r.updateWidth.bind(Object(d.a)(r)),r.renderPhotoGroup=r.renderPhotoGroup.bind(Object(d.a)(r)),r.state={},r}return Object(u.a)(n,[{key:"getIsCollage",value:function(){return!!this.state.width&&g()>1100}},{key:"updateWidth",value:function(){this.setState({width:g()})}},{key:"componentDidMount",value:function(){!function(t,e,n){n=n||window;var r=!1,i=P()((function(){r||(r=!0,window.requestAnimationFrame((function(){n.dispatchEvent(new window.CustomEvent(e)),r=!1})))}),200);n.addEventListener(t,i)}("resize","optimizedResize"),window.addEventListener("optimizedResize",this.updateWidth),this.updateWidth()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("optimizedResize",this.updateWidth)}},{key:"renderPhotoGroup",value:function(t){var e=this.props.onSelectPhoto,n=this.getIsCollage(),r=n?{height:"".concat(t.height,"px")}:{};return Object(i.jsx)("div",{className:"photo-group",style:r,children:t.photos.map((function(t){return Object(i.jsx)(y,{setWidth:n,photo:t,onSelect:e},t.key)}))},"photo-group-".concat(t.key))}},{key:"render",value:function(){var t=this.props,e=t.featuredPhotos,n=t.nonFeaturedPhotos,r=W(e),o=W(n);return Object(i.jsxs)("div",{id:"collage",children:[r.map(this.renderPhotoGroup),!!r.length&&Object(i.jsx)(R,{}),o.map(this.renderPhotoGroup)]})}}]),n}(a.PureComponent),_=n("22s3"),D=n("Et4X"),z=n("qsyN");var q=!0;e.default=function(t){var e=t.keywords,n=t.photos,o=400;Object(a.useEffect)((function(){o=screen.availWidth})),n.map((function(t){return t.srcSet=Object(D.a)(t.sizes,o),t}));var s=n.filter((function(t){return t.featured})),u=n.filter((function(t){return!t.featured}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(c.a,{children:[Object(i.jsx)("title",{children:Object(z.baseTitle)()}),Object(i.jsx)("meta",{name:"keywords",content:e.join(", ")}),Object.entries(Object(_.a)()).map((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];return Object(i.jsx)("meta",{property:n,content:o},n)}))]}),Object(i.jsx)("div",{id:"container",children:Object(i.jsx)(S,{featuredPhotos:s,nonFeaturedPhotos:u,onSelectPhoto:function(){}})})]})}},tyei:function(t,e){t.exports=function(t,e){var n,r,i,o,c=0;return function(){n=this,r=arguments;var t=new Date-c;return o||(t>=e?a():o=setTimeout(a,e-t)),i};function a(){o=0,c=+new Date,i=t.apply(n,r),n=null,r=null}}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,1,3]]]);