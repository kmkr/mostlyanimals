_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"/8vo":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos/[id]",function(){return n("FAHu")}])},FAHu:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return D}));var r=n("ODXe"),o=n("nKUr"),c=n("g4pe"),i=n.n(c),s=n("q1tI"),a=n("22s3"),l=n("Et4X"),u=n("1OyB"),d=n("vuIU"),h=n("JX7q"),f=n("Ji7U"),j=n("md7G"),p=n("foSv"),b=n("Tqpv");n("jdka");function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(j.a)(this,n)}}function v(e){return"portrait"===e.mode?"(min-width: 1100px) 50vw, 100vw":"(min-width: 1100px) 95vw, 100vw"}var O=function(e){Object(f.a)(n,e);var t=x(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).preload(e.preloadPhotos),r}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props.preloadPhotos;this.preload(e)}},{key:"componentWillUnmount",value:function(){this.el&&this.el.removeChild(this.el.querySelector("img"))}},{key:"preload",value:function(e){this.timeout&&window.clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.forEach((function(e,t){var n=new Image;n.src=e.sizes.large.url,n.setAttribute("srcset",e.srcSet),n.setAttribute("sizes",v(e));var r="snPreloadedPhoto".concat(t);window[r]=n}))}),1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.next,r=t.previous,c=t.photo;return Object(o.jsx)("div",{className:c.mode,children:Object(o.jsxs)("div",{className:"photo-and-text",children:[Object(o.jsxs)("div",{className:"photo-wrapper",ref:function(t){return e.el=t},children:[r,n,Object(o.jsx)("img",{alt:c.title,srcSet:c.srcSet,sizes:v(c)})]}),Object(o.jsx)(b.a,{photo:c})]})})}}]),n}(s.PureComponent),m=n("YFqc"),y=n.n(m),w=function(){return Object(o.jsxs)("div",{id:"navigation",children:[Object(o.jsx)(y.a,{href:"/",children:Object(o.jsx)("a",{className:"home",title:"All photos",children:Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 85.04 54.67",children:[Object(o.jsx)("rect",{fill:"currentColor",className:"cls-1",y:"20.25",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",y:"40.49",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"30.37",y:"20.25",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"60.74",y:"20.25",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"30.37",y:"40.49",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"60.74",y:"40.49",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"30.37",width:"24.3",height:"14.17"}),Object(o.jsx)("rect",{fill:"currentColor",x:"60.74",width:"24.3",height:"14.17"})]})})}),Object(o.jsx)("div",{className:"link-wrapper",children:Object(o.jsx)(y.a,{href:"/",children:Object(o.jsx)("a",{href:"/",children:"More photos"})})})]})},g=function(e){var t=e.expanded,n=e.photo,r=e.onToggleExpanded;return Object(o.jsxs)("div",{id:"sidebar-wrapper",className:n.mode,children:[Object(o.jsx)("div",{id:"sidebar",children:Object(o.jsx)("div",{className:t?"expanded":"",children:Object(o.jsxs)("a",{href:"#",title:t?"Close info box":"Read more about this photo",tabIndex:"0",onClick:r,children:[Object(o.jsx)("span",{className:"one"}),Object(o.jsx)("span",{className:"two"})]})})}),Object(o.jsx)("div",{id:"sidebar-text",className:t?"expanded":"",children:Object(o.jsx)(b.a,{photo:n})})]})};function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(j.a)(this,n)}}var E=[33,37],N=[32,34,39],P=[73],S=[27],C=function(e){Object(f.a)(n,e);var t=k(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).handleKeyUp=e.handleKeyUp.bind(Object(h.a)(e)),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp)}},{key:"handleKeyUp",value:function(e){var t=e.keyCode||e.detail.keyCode,n=this.props,r=n.onHome,o=n.onPrevious,c=n.onNext,i=n.onToggleSidebar;e.altKey||(-1!==E.indexOf(t)?(e.preventDefault(),o()):-1!==N.indexOf(t)?(e.preventDefault(),c()):-1!==P.indexOf(t)?(e.preventDefault(),i()):-1!==S.indexOf(t)&&(e.preventDefault(),r()))}},{key:"render",value:function(){return null}}]),n}(s.PureComponent);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(j.a)(this,n)}}var T=function(e){Object(f.a)(n,e);var t=R(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).onToggleExpandSidebar=e.onToggleExpandSidebar.bind(Object(h.a)(e)),e.state={sidebarExpanded:!0},e}return Object(d.a)(n,[{key:"onToggleExpandSidebar",value:function(e){e&&e.preventDefault(),this.setState((function(e){return{sidebarExpanded:!e.sidebarExpanded}}))}},{key:"render",value:function(){var e=this.props,t=e.onHome,n=e.selectedPhoto;return Object(o.jsxs)("div",{children:[Object(o.jsx)(C,{onHome:t,onNext:this.onNextPhoto,onPrevious:this.onPreviousPhoto,onToggleSidebar:this.onToggleExpandSidebar}),Object(o.jsx)(O,{photo:n,preloadPhotos:[],next:null,previous:null}),Object(o.jsx)(g,{expanded:this.state.sidebarExpanded,onToggleExpanded:this.onToggleExpandSidebar,photo:n}),Object(o.jsx)(w,{})]})}}]),n}(s.PureComponent),_=n("qsyN");var D=!0;t.default=function(e){var t=e.keywords,n=e.photo,c=400;return Object(s.useEffect)((function(){c=screen.availWidth})),n.srcSet=Object(l.a)(n.sizes,c),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(i.a,{children:[Object(o.jsx)("title",{children:Object(_.photoTitle)(n)}),Object(o.jsx)("meta",{name:"keywords",content:t.join(", ")}),Object.entries(Object(a.b)(n)).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(o.jsx)("meta",{property:n,content:c},n)}))]}),Object(o.jsxs)("div",{id:"container",children:[Object(o.jsx)(T,{selectedPhoto:n}),"/>"]})]})}}},[["/8vo",0,2,1,3]]]);