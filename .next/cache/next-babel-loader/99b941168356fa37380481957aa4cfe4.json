{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { PureComponent } from \"react\";\nimport { setLoaded, isLoaded } from \"./loaded-images\";\n\nclass TransitionImage extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      visible: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() {\n    if (this.state.visible) {\n      // Some browsers call onLoad multiple times, perhaps due to srcSet\n      return;\n    }\n\n    setLoaded(this.props.src);\n    this.setState({\n      visible: true\n    });\n  }\n\n  render() {\n    const {\n      alt,\n      onClick,\n      src,\n      srcSet,\n      sizes\n    } = this.props;\n    const visible = this.state.visible || isLoaded(src);\n    return /*#__PURE__*/_jsx(\"img\", {\n      alt: alt || \"\",\n      className: \"transition-image\",\n      onClick: onClick,\n      onLoad: this.onLoad,\n      style: {\n        opacity: visible ? 1 : 0\n      },\n      srcSet: srcSet,\n      sizes: sizes\n    });\n  }\n\n}\n\nexport default TransitionImage;","map":null,"metadata":{},"sourceType":"module"}