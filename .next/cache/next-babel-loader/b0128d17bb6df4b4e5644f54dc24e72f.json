{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/km/git/splendid-nudibranch/client/src/transition-image/index.js\";\nimport { PureComponent } from \"react\";\nimport { setLoaded, isLoaded } from \"./loaded-images\";\n\nclass TransitionImage extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      visible: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() {\n    if (this.state.visible) {\n      // Some browsers call onLoad multiple times, perhaps due to srcSet\n      return;\n    }\n\n    setLoaded(this.props.src);\n    this.setState({\n      visible: true\n    });\n  }\n\n  render() {\n    const {\n      alt,\n      onClick,\n      src,\n      srcSet,\n      sizes\n    } = this.props;\n    const visible = this.state.visible || isLoaded(src);\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: alt || \"\",\n      className: \"transition-image\",\n      onClick: onClick,\n      onLoad: this.onLoad,\n      style: {\n        opacity: visible ? 1 : 0\n      },\n      srcSet: srcSet,\n      sizes: sizes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TransitionImage;","map":{"version":3,"sources":["/home/km/git/splendid-nudibranch/client/src/transition-image/index.js"],"names":["PureComponent","setLoaded","isLoaded","TransitionImage","constructor","state","visible","onLoad","bind","props","src","setState","render","alt","onClick","srcSet","sizes","opacity"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,OAA9B;AAEA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,iBAApC;;AAEA,MAAMC,eAAN,SAA8BH,aAA9B,CAA4C;AAC1CI,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAGA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAEDD,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKF,KAAL,CAAWC,OAAf,EAAwB;AACtB;AACA;AACD;;AAEDL,IAAAA,SAAS,CAAC,KAAKQ,KAAL,CAAWC,GAAZ,CAAT;AAEA,SAAKC,QAAL,CAAc;AACZL,MAAAA,OAAO,EAAE;AADG,KAAd;AAGD;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA,OAAP;AAAgBJ,MAAAA,GAAhB;AAAqBK,MAAAA,MAArB;AAA6BC,MAAAA;AAA7B,QAAuC,KAAKP,KAAlD;AACA,UAAMH,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAX,IAAsBJ,QAAQ,CAACQ,GAAD,CAA9C;AACA,wBACE;AACE,MAAA,GAAG,EAAEG,GAAG,IAAI,EADd;AAEE,MAAA,SAAS,EAAC,kBAFZ;AAGE,MAAA,OAAO,EAAEC,OAHX;AAIE,MAAA,MAAM,EAAE,KAAKP,MAJf;AAKE,MAAA,KAAK,EAAE;AAAEU,QAAAA,OAAO,EAAEX,OAAO,GAAG,CAAH,GAAO;AAAzB,OALT;AAME,MAAA,MAAM,EAAES,MANV;AAOE,MAAA,KAAK,EAAEC;AAPT;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AApCyC;;AAuC5C,eAAeb,eAAf","sourcesContent":["import { PureComponent } from \"react\";\n\nimport { setLoaded, isLoaded } from \"./loaded-images\";\n\nclass TransitionImage extends PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      visible: false,\n    };\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() {\n    if (this.state.visible) {\n      // Some browsers call onLoad multiple times, perhaps due to srcSet\n      return;\n    }\n\n    setLoaded(this.props.src);\n\n    this.setState({\n      visible: true,\n    });\n  }\n\n  render() {\n    const { alt, onClick, src, srcSet, sizes } = this.props;\n    const visible = this.state.visible || isLoaded(src);\n    return (\n      <img\n        alt={alt || \"\"}\n        className=\"transition-image\"\n        onClick={onClick}\n        onLoad={this.onLoad}\n        style={{ opacity: visible ? 1 : 0 }}\n        srcSet={srcSet}\n        sizes={sizes}\n      />\n    );\n  }\n}\n\nexport default TransitionImage;\n"]},"metadata":{},"sourceType":"module"}