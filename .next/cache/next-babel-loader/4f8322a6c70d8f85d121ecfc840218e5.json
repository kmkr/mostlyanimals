{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/km/git/splendid-nudibranch/client/src/transition-image/index.js\";\nimport { PureComponent } from \"react\";\nimport { setLoaded, isLoaded } from \"./loaded-images\";\n\nclass TransitionImage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      visible: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() {\n    if (this.state.visible) {\n      // Some browsers call onLoad multiple times, perhaps due to srcSet\n      return;\n    }\n\n    setLoaded(this.props.src);\n    this.setState({\n      visible: true\n    });\n  }\n\n  render({\n    alt,\n    onClick,\n    src,\n    srcSet,\n    sizes\n  }) {\n    const visible = this.state.visible || isLoaded(src);\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: alt || \"\",\n      className: \"transition-image\",\n      onClick: onClick,\n      onLoad: this.onLoad,\n      style: {\n        opacity: visible ? 1 : 0\n      },\n      srcSet: srcSet,\n      sizes: sizes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TransitionImage;","map":{"version":3,"sources":["/home/km/git/splendid-nudibranch/client/src/transition-image/index.js"],"names":["PureComponent","setLoaded","isLoaded","TransitionImage","Component","constructor","state","visible","onLoad","bind","props","src","setState","render","alt","onClick","srcSet","sizes","opacity"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,OAA9B;AAEA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,iBAApC;;AAEA,MAAMC,eAAN,SAA8BC,SAA9B,CAAwC;AACtCC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAGA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAEDD,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKF,KAAL,CAAWC,OAAf,EAAwB;AACtB;AACA;AACD;;AAEDN,IAAAA,SAAS,CAAC,KAAKS,KAAL,CAAWC,GAAZ,CAAT;AAEA,SAAKC,QAAL,CAAc;AACZL,MAAAA,OAAO,EAAE;AADG,KAAd;AAGD;;AAEDM,EAAAA,MAAM,CAAC;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,OAAP;AAAgBJ,IAAAA,GAAhB;AAAqBK,IAAAA,MAArB;AAA6BC,IAAAA;AAA7B,GAAD,EAAuC;AAC3C,UAAMV,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAX,IAAsBL,QAAQ,CAACS,GAAD,CAA9C;AACA,wBACE;AACE,MAAA,GAAG,EAAEG,GAAG,IAAI,EADd;AAEE,MAAA,SAAS,EAAC,kBAFZ;AAGE,MAAA,OAAO,EAAEC,OAHX;AAIE,MAAA,MAAM,EAAE,KAAKP,MAJf;AAKE,MAAA,KAAK,EAAE;AAAEU,QAAAA,OAAO,EAAEX,OAAO,GAAG,CAAH,GAAO;AAAzB,OALT;AAME,MAAA,MAAM,EAAES,MANV;AAOE,MAAA,KAAK,EAAEC;AAPT;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AAnCqC;;AAsCxC,eAAed,eAAf","sourcesContent":["import { PureComponent } from \"react\";\n\nimport { setLoaded, isLoaded } from \"./loaded-images\";\n\nclass TransitionImage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      visible: false,\n    };\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() {\n    if (this.state.visible) {\n      // Some browsers call onLoad multiple times, perhaps due to srcSet\n      return;\n    }\n\n    setLoaded(this.props.src);\n\n    this.setState({\n      visible: true,\n    });\n  }\n\n  render({ alt, onClick, src, srcSet, sizes }) {\n    const visible = this.state.visible || isLoaded(src);\n    return (\n      <img\n        alt={alt || \"\"}\n        className=\"transition-image\"\n        onClick={onClick}\n        onLoad={this.onLoad}\n        style={{ opacity: visible ? 1 : 0 }}\n        srcSet={srcSet}\n        sizes={sizes}\n      />\n    );\n  }\n}\n\nexport default TransitionImage;\n"]},"metadata":{},"sourceType":"module"}