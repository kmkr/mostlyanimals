{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport { useEffect } from \"react\";\nimport Collage from \"../client/collage\";\nimport { getPhotoData, getAllKeywords } from \"../server/view-data-service\";\nimport { serverToClient } from \"../server/photos/photo-data-conversion\";\nimport { forAll } from \"../server/og-tags\";\nimport buildSrcSet from \"../client/photos/src-set-builder\";\nimport { baseTitle } from \"../src/title-service\";\n\nfunction HomePage({\n  keywords,\n  photos\n}) {\n  let availWidth = 400;\n  useEffect(() => {\n    availWidth = screen.availWidth;\n  });\n  const photosWidthSrcSet = photos.map(photo => {\n    photo.srcSet = buildSrcSet(photo.sizes, availWidth);\n    return photo;\n  });\n  const featuredPhotos = photos.filter(photo => photo.featured);\n  const nonFeaturedPhotos = photos.filter(photo => !photo.featured);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: baseTitle()\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"keywords\",\n        content: keywords.join(\", \")\n      }), Object.entries(forAll()).map(([key, value]) => /*#__PURE__*/_jsx(\"meta\", {\n        property: key,\n        content: value\n      }, key))]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      id: \"container\",\n      children: /*#__PURE__*/_jsx(Collage, {\n        featuredPhotos: featuredPhotos,\n        nonFeaturedPhotos: nonFeaturedPhotos,\n        onSelectPhoto: () => {}\n      })\n    })]\n  });\n}\n\nexport async function getStaticProps(context) {\n  return Promise.all([getPhotoData(), getAllKeywords()]).then(([photoData, allKeywords]) => {\n    const mappedPhotos = photoData.photos.map(p => serverToClient(p, photoData.base));\n    return {\n      props: {\n        keywords: allKeywords,\n        photos: mappedPhotos\n      }\n    };\n  });\n}\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}