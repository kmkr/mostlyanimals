{"ast":null,"code":"import { PureComponent } from \"../../collage/react\";\nconst LEFT_KEYS = [33, // pgup\n37 // arrow left\n];\nconst RIGHT_KEYS = [32, // space\n34, // pgdn\n39 // arrow right\n];\nconst SIDEBAR_KEYS = [73 // i\n];\nconst HOME_KEYS = [27 // ESC\n];\n\nclass KeyboardEventHandler extends PureComponent {\n  constructor() {\n    super();\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  handleKeyUp(e) {\n    const keyCode = e.keyCode || e.detail.keyCode;\n    const {\n      onHome,\n      onPrevious,\n      onNext,\n      onToggleSidebar\n    } = this.props;\n\n    if (e.altKey) {\n      return;\n    }\n\n    if (LEFT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onPrevious();\n    } else if (RIGHT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onNext();\n    } else if (SIDEBAR_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onToggleSidebar();\n    } else if (HOME_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onHome();\n    }\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nexport default KeyboardEventHandler;","map":{"version":3,"sources":["/home/km/git/splendid-nudibranch/client/src/photos/keyboard-event-handler.js"],"names":["PureComponent","LEFT_KEYS","RIGHT_KEYS","SIDEBAR_KEYS","HOME_KEYS","KeyboardEventHandler","constructor","handleKeyUp","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","e","keyCode","detail","onHome","onPrevious","onNext","onToggleSidebar","props","altKey","indexOf","preventDefault","render"],"mappings":"AAAA,SAASA,aAAT,QAA8B,qBAA9B;AAEA,MAAMC,SAAS,GAAG,CAChB,EADgB,EACZ;AACJ,EAFgB,CAEZ;AAFY,CAAlB;AAIA,MAAMC,UAAU,GAAG,CACjB,EADiB,EACb;AACJ,EAFiB,EAEb;AACJ,EAHiB,CAGb;AAHa,CAAnB;AAKA,MAAMC,YAAY,GAAG,CACnB,EADmB,CACf;AADe,CAArB;AAGA,MAAMC,SAAS,GAAG,CAChB,EADgB,CACZ;AADY,CAAlB;;AAIA,MAAMC,oBAAN,SAAmCL,aAAnC,CAAiD;AAC/CM,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKJ,WAAtC;AACD;;AAEDK,EAAAA,oBAAoB,GAAG;AACrBF,IAAAA,MAAM,CAACG,mBAAP,CAA2B,OAA3B,EAAoC,KAAKN,WAAzC;AACD;;AAEDA,EAAAA,WAAW,CAACO,CAAD,EAAI;AACb,UAAMC,OAAO,GAAGD,CAAC,CAACC,OAAF,IAAaD,CAAC,CAACE,MAAF,CAASD,OAAtC;AACA,UAAM;AAAEE,MAAAA,MAAF;AAAUC,MAAAA,UAAV;AAAsBC,MAAAA,MAAtB;AAA8BC,MAAAA;AAA9B,QAAkD,KAAKC,KAA7D;;AAEA,QAAIP,CAAC,CAACQ,MAAN,EAAc;AACZ;AACD;;AAED,QAAIrB,SAAS,CAACsB,OAAV,CAAkBR,OAAlB,MAA+B,CAAC,CAApC,EAAuC;AACrCD,MAAAA,CAAC,CAACU,cAAF;AACAN,MAAAA,UAAU;AACX,KAHD,MAGO,IAAIhB,UAAU,CAACqB,OAAX,CAAmBR,OAAnB,MAAgC,CAAC,CAArC,EAAwC;AAC7CD,MAAAA,CAAC,CAACU,cAAF;AACAL,MAAAA,MAAM;AACP,KAHM,MAGA,IAAIhB,YAAY,CAACoB,OAAb,CAAqBR,OAArB,MAAkC,CAAC,CAAvC,EAA0C;AAC/CD,MAAAA,CAAC,CAACU,cAAF;AACAJ,MAAAA,eAAe;AAChB,KAHM,MAGA,IAAIhB,SAAS,CAACmB,OAAV,CAAkBR,OAAlB,MAA+B,CAAC,CAApC,EAAuC;AAC5CD,MAAAA,CAAC,CAACU,cAAF;AACAP,MAAAA,MAAM;AACP;AACF;;AAEDQ,EAAAA,MAAM,GAAG;AACP,WAAO,IAAP;AACD;;AAvC8C;;AA0CjD,eAAepB,oBAAf","sourcesContent":["import { PureComponent } from \"../../collage/react\";\n\nconst LEFT_KEYS = [\n  33, // pgup\n  37, // arrow left\n];\nconst RIGHT_KEYS = [\n  32, // space\n  34, // pgdn\n  39, // arrow right\n];\nconst SIDEBAR_KEYS = [\n  73, // i\n];\nconst HOME_KEYS = [\n  27, // ESC\n];\n\nclass KeyboardEventHandler extends PureComponent {\n  constructor() {\n    super();\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  handleKeyUp(e) {\n    const keyCode = e.keyCode || e.detail.keyCode;\n    const { onHome, onPrevious, onNext, onToggleSidebar } = this.props;\n\n    if (e.altKey) {\n      return;\n    }\n\n    if (LEFT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onPrevious();\n    } else if (RIGHT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onNext();\n    } else if (SIDEBAR_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onToggleSidebar();\n    } else if (HOME_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onHome();\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default KeyboardEventHandler;\n"]},"metadata":{},"sourceType":"module"}