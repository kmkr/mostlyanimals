{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { PureComponent } from \"../../collage/react\";\nvar LEFT_KEYS = [33, // pgup\n37 // arrow left\n];\nvar RIGHT_KEYS = [32, // space\n34, // pgdn\n39 // arrow right\n];\nvar SIDEBAR_KEYS = [73 // i\n];\nvar HOME_KEYS = [27 // ESC\n];\n\nvar KeyboardEventHandler = /*#__PURE__*/function (_PureComponent) {\n  _inherits(KeyboardEventHandler, _PureComponent);\n\n  var _super = _createSuper(KeyboardEventHandler);\n\n  function KeyboardEventHandler() {\n    var _this;\n\n    _classCallCheck(this, KeyboardEventHandler);\n\n    _this = _super.call(this);\n    _this.handleKeyUp = _this.handleKeyUp.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(KeyboardEventHandler, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"keyup\", this.handleKeyUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"keyup\", this.handleKeyUp);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var keyCode = e.keyCode || e.detail.keyCode;\n      var _this$props = this.props,\n          onHome = _this$props.onHome,\n          onPrevious = _this$props.onPrevious,\n          onNext = _this$props.onNext,\n          onToggleSidebar = _this$props.onToggleSidebar;\n\n      if (e.altKey) {\n        return;\n      }\n\n      if (LEFT_KEYS.indexOf(keyCode) !== -1) {\n        e.preventDefault();\n        onPrevious();\n      } else if (RIGHT_KEYS.indexOf(keyCode) !== -1) {\n        e.preventDefault();\n        onNext();\n      } else if (SIDEBAR_KEYS.indexOf(keyCode) !== -1) {\n        e.preventDefault();\n        onToggleSidebar();\n      } else if (HOME_KEYS.indexOf(keyCode) !== -1) {\n        e.preventDefault();\n        onHome();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return KeyboardEventHandler;\n}(PureComponent);\n\nexport default KeyboardEventHandler;","map":{"version":3,"sources":["/home/km/git/splendid-nudibranch/client/src/photos/keyboard-event-handler.js"],"names":["PureComponent","LEFT_KEYS","RIGHT_KEYS","SIDEBAR_KEYS","HOME_KEYS","KeyboardEventHandler","handleKeyUp","bind","window","addEventListener","removeEventListener","e","keyCode","detail","props","onHome","onPrevious","onNext","onToggleSidebar","altKey","indexOf","preventDefault"],"mappings":";;;;;;;;;;;AAAA,SAASA,aAAT,QAA8B,qBAA9B;AAEA,IAAMC,SAAS,GAAG,CAChB,EADgB,EACZ;AACJ,EAFgB,CAEZ;AAFY,CAAlB;AAIA,IAAMC,UAAU,GAAG,CACjB,EADiB,EACb;AACJ,EAFiB,EAEb;AACJ,EAHiB,CAGb;AAHa,CAAnB;AAKA,IAAMC,YAAY,GAAG,CACnB,EADmB,CACf;AADe,CAArB;AAGA,IAAMC,SAAS,GAAG,CAChB,EADgB,CACZ;AADY,CAAlB;;IAIMC,oB;;;;;AACJ,kCAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB;AAFY;AAGb;;;;wCAEmB;AAClBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKH,WAAtC;AACD;;;2CAEsB;AACrBE,MAAAA,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoC,KAAKJ,WAAzC;AACD;;;gCAEWK,C,EAAG;AACb,UAAMC,OAAO,GAAGD,CAAC,CAACC,OAAF,IAAaD,CAAC,CAACE,MAAF,CAASD,OAAtC;AADa,wBAE2C,KAAKE,KAFhD;AAAA,UAELC,MAFK,eAELA,MAFK;AAAA,UAEGC,UAFH,eAEGA,UAFH;AAAA,UAEeC,MAFf,eAEeA,MAFf;AAAA,UAEuBC,eAFvB,eAEuBA,eAFvB;;AAIb,UAAIP,CAAC,CAACQ,MAAN,EAAc;AACZ;AACD;;AAED,UAAIlB,SAAS,CAACmB,OAAV,CAAkBR,OAAlB,MAA+B,CAAC,CAApC,EAAuC;AACrCD,QAAAA,CAAC,CAACU,cAAF;AACAL,QAAAA,UAAU;AACX,OAHD,MAGO,IAAId,UAAU,CAACkB,OAAX,CAAmBR,OAAnB,MAAgC,CAAC,CAArC,EAAwC;AAC7CD,QAAAA,CAAC,CAACU,cAAF;AACAJ,QAAAA,MAAM;AACP,OAHM,MAGA,IAAId,YAAY,CAACiB,OAAb,CAAqBR,OAArB,MAAkC,CAAC,CAAvC,EAA0C;AAC/CD,QAAAA,CAAC,CAACU,cAAF;AACAH,QAAAA,eAAe;AAChB,OAHM,MAGA,IAAId,SAAS,CAACgB,OAAV,CAAkBR,OAAlB,MAA+B,CAAC,CAApC,EAAuC;AAC5CD,QAAAA,CAAC,CAACU,cAAF;AACAN,QAAAA,MAAM;AACP;AACF;;;6BAEQ;AACP,aAAO,IAAP;AACD;;;;EAvCgCf,a;;AA0CnC,eAAeK,oBAAf","sourcesContent":["import { PureComponent } from \"../../collage/react\";\n\nconst LEFT_KEYS = [\n  33, // pgup\n  37, // arrow left\n];\nconst RIGHT_KEYS = [\n  32, // space\n  34, // pgdn\n  39, // arrow right\n];\nconst SIDEBAR_KEYS = [\n  73, // i\n];\nconst HOME_KEYS = [\n  27, // ESC\n];\n\nclass KeyboardEventHandler extends PureComponent {\n  constructor() {\n    super();\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n\n  handleKeyUp(e) {\n    const keyCode = e.keyCode || e.detail.keyCode;\n    const { onHome, onPrevious, onNext, onToggleSidebar } = this.props;\n\n    if (e.altKey) {\n      return;\n    }\n\n    if (LEFT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onPrevious();\n    } else if (RIGHT_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onNext();\n    } else if (SIDEBAR_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onToggleSidebar();\n    } else if (HOME_KEYS.indexOf(keyCode) !== -1) {\n      e.preventDefault();\n      onHome();\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default KeyboardEventHandler;\n"]},"metadata":{},"sourceType":"module"}