{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{\"+rlA\":function(t,e,n){(function(e){t.exports.base=\"\".concat(e.env.SN_S3_BASE,\"/\").concat(e.env.SN_S3_BUCKET_NAME),t.exports.resizeTo=[{name:\"thumb\",shortName:\"thumb\",width:220},{name:\"xsmall\",shortName:\"xs\",width:500},{name:\"small\",shortName:\"s\",width:1e3},{name:\"medium\",shortName:\"m\",width:1400},{name:\"large\",shortName:\"l\",width:1900},{name:\"xlarge\",shortName:\"xl\",width:2560},{name:\"xxlarge\",shortName:\"xxl\",skipPayload:!0,width:3200}],t.exports.generalSiteDescription=\"Photos of sea critters, slender sharks, beautiful shrimps, lots of fish and splendid nudibranchs.\"}).call(this,n(\"8oxB\"))},\"1OyB\":function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}n.d(e,\"a\",(function(){return r}))},\"22s3\":function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return a})),n.d(e,\"a\",(function(){return s}));var r=n(\"+rlA\"),o=n(\"qsyN\"),i=\"The Splendid Nudibranch\";function c(t){var e=t.selectedPhoto,n=t.feature,r=\"http://www.thesplendidnudibranch.pink\";return e?r+\"/photos/\".concat(e.key):(n&&(r+=\"/?feature=\".concat(n.join(\"&feature=\"))),r)}var u=null;function a(t){var e=t.sizes.medium;return{\"og:type\":\"article\",\"og:site_name\":i,\"og:title\":Object(o.photoTitle)(t),\"og:url\":c({selectedPhoto:t,feature:u}),\"og:description\":t.description,\"og:image\":e.url,\"og:image:width\":e.width,\"og:image:height\":e.height}}function s(t){return{\"og:type\":\"article\",\"og:site_name\":i,\"og:title\":Object(o.featureTitle)(null),\"og:url\":c({feature:u}),\"og:description\":r.generalSiteDescription,\"og:image\":\"http://www.thesplendidnudibranch.pink/static/images/logo.png\",\"og:image:width\":1300,\"og:image:height\":616}}},\"8oxB\":function(t,e){var n,r,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function c(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r=\"function\"===typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var a,s=[],l=!1,f=-1;function p(){l&&a&&(l=!1,a.length?s=a.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=s.length;e;){for(a=s,s=[];++f<e;)a&&a[f].run();f=-1,e=s.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},BsWD:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"a3WO\");function o(t,e){if(t){if(\"string\"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},Et4X:function(t,e,n){\"use strict\";e.a=function(t,e){var n=!1;return Object.keys(t).filter((function(r){return t[r].width<e||!n&&(n=!0,!0)})).map((function(e){var n=t[e];return\"\".concat(n.url,\" \").concat(n.width,\"w\")})).join(\", \")}},JX7q:function(t,e,n){\"use strict\";function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}n.d(e,\"a\",(function(){return r}))},Ji7U:function(t,e,n){\"use strict\";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,\"a\",(function(){return o}))},ODXe:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));var r=n(\"BsWD\");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(a){o=!0,i=a}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}},Tqpv:function(t,e,n){\"use strict\";var r=n(\"nKUr\");e.a=function(t){var e=t.photo;return Object(r.jsxs)(\"div\",{className:\"photo-text-wrapper\",children:[Object(r.jsx)(\"p\",{className:\"title\",children:e.title}),Object(r.jsx)(\"p\",{className:\"latin\",children:e.latin}),Object(r.jsx)(\"p\",{className:\"description\",children:e.description}),Object(r.jsx)(\"p\",{className:\"location\",children:e.location})]})}},YFqc:function(t,e,n){t.exports=n(\"cTJO\")},a3WO:function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,\"a\",(function(){return r}))},cTJO:function(t,e,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"284h\");e.__esModule=!0,e.default=void 0;var i=o(n(\"q1tI\")),c=n(\"elyg\"),u=n(\"nOHt\"),a=n(\"vNVm\"),s={};function l(t,e,n,r){if((0,c.isLocalURL)(e)){t.prefetch(e,n,r).catch((function(t){0}));var o=r&&\"undefined\"!==typeof r.locale?r.locale:t&&t.locale;s[e+\"%\"+n+(o?\"%\"+o:\"\")]=!0}}var f=function(t){var e=!1!==t.prefetch,n=(0,u.useRouter)(),o=n&&n.pathname||\"/\",f=i.default.useMemo((function(){var e=(0,c.resolveHref)(o,t.href,!0),n=r(e,2),i=n[0],u=n[1];return{href:i,as:t.as?(0,c.resolveHref)(o,t.as):u||i}}),[o,t.href,t.as]),p=f.href,d=f.as,h=t.children,m=t.replace,v=t.shallow,y=t.scroll,b=t.locale;\"string\"===typeof h&&(h=i.default.createElement(\"a\",null,h));var g=i.Children.only(h),w=g&&\"object\"===typeof g&&g.ref,O=(0,a.useIntersection)({rootMargin:\"200px\"}),j=r(O,2),T=j[0],x=j[1],S=i.default.useCallback((function(t){T(t),w&&(\"function\"===typeof w?w(t):\"object\"===typeof w&&(w.current=t))}),[w,T]);(0,i.useEffect)((function(){var t=x&&e&&(0,c.isLocalURL)(p),r=\"undefined\"!==typeof b?b:n&&n.locale,o=s[p+\"%\"+d+(r?\"%\"+r:\"\")];t&&!o&&l(n,p,d,{locale:r})}),[d,p,x,b,e,n]);var N={ref:S,onClick:function(t){g.props&&\"function\"===typeof g.props.onClick&&g.props.onClick(t),t.defaultPrevented||function(t,e,n,r,o,i,u,a){(\"A\"!==t.currentTarget.nodeName||!function(t){var e=t.currentTarget.target;return e&&\"_self\"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&(0,c.isLocalURL)(n))&&(t.preventDefault(),null==u&&(u=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](n,r,{shallow:i,locale:a}).then((function(t){t&&u&&(window.scrollTo(0,0),document.body.focus())})))}(t,n,p,d,m,v,y,b)},onMouseEnter:function(t){(0,c.isLocalURL)(p)&&(g.props&&\"function\"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(t),l(n,p,d,{priority:!0}))}};return(t.passHref||\"a\"===g.type&&!(\"href\"in g.props))&&(N.href=(0,c.addBasePath)((0,c.addLocale)(d,\"undefined\"!==typeof b?b:n&&n.locale,n&&n.defaultLocale))),i.default.cloneElement(g,N)};e.default=f},foSv:function(t,e,n){\"use strict\";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,\"a\",(function(){return r}))},g4pe:function(t,e,n){t.exports=n(\"8Kt/\")},jdka:function(t,e,n){\"use strict\";var r=n(\"1OyB\"),o=n(\"vuIU\"),i=n(\"JX7q\"),c=n(\"Ji7U\"),u=n(\"md7G\"),a=n(\"foSv\"),s=n(\"nKUr\"),l=n(\"q1tI\"),f=[];function p(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(a.a)(t);if(e){var o=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var d=function(t){Object(c.a)(n,t);var e=p(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={visible:!1},t.onLoad=t.onLoad.bind(Object(i.a)(t)),t}return Object(o.a)(n,[{key:\"onLoad\",value:function(){var t;this.state.visible||(t=this.props.src,f.push(t),this.setState({visible:!0}))}},{key:\"render\",value:function(){var t,e=this.props,n=e.alt,r=e.onClick,o=e.src,i=e.srcSet,c=e.sizes,u=this.state.visible||(t=o,-1!==f.indexOf(t));return Object(s.jsx)(\"img\",{alt:n||\"\",className:\"transition-image\",onClick:r,onLoad:this.onLoad,style:{opacity:u?1:0},srcSet:i,sizes:c})}}]),n}(l.PureComponent);e.a=d},md7G:function(t,e,n){\"use strict\";function r(t){return(r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}n.d(e,\"a\",(function(){return i}));var o=n(\"JX7q\");function i(t,e){return!e||\"object\"!==r(e)&&\"function\"!==typeof e?Object(o.a)(t):e}},qsyN:function(t,e){var n=\"The Splendid Nudibranch\";t.exports.photoTitle=function(t){return[t.title,n].filter(Boolean).join(\" :: \")},t.exports.featureTitle=function(t){return[t,n].filter(Boolean).join(\" :: \")},t.exports.baseTitle=function(){return n}},vNVm:function(t,e,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"TqRt\");e.__esModule=!0,e.useIntersection=function(t){var e=t.rootMargin,n=t.disabled||!u,o=(0,i.useRef)(),s=(0,i.useState)(!1),l=r(s,2),f=l[0],p=l[1],d=(0,i.useCallback)((function(t){o.current&&(o.current(),o.current=void 0),n||f||t&&t.tagName&&(o.current=function(t,e,n){var r=function(t){var e=t.rootMargin||\"\",n=a.get(e);if(n)return n;var r=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return a.set(e,n={id:e,observer:o,elements:r}),n}(n),o=r.id,i=r.observer,c=r.elements;return c.set(t,e),i.observe(t),function(){i.unobserve(t),0===c.size&&(i.disconnect(),a.delete(o))}}(t,(function(t){return t&&p(t)}),{rootMargin:e}))}),[n,e,f]);return(0,i.useEffect)((function(){u||f||(0,c.default)((function(){return p(!0)}))}),[f]),[d,f]};var i=n(\"q1tI\"),c=o(n(\"0G5g\")),u=\"undefined\"!==typeof IntersectionObserver;var a=new Map},vuIU:function(t,e,n){\"use strict\";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,\"a\",(function(){return o}))}}]);","map":{"version":3,"sources":["static/chunks/c45100d10fae9f9823b4e9dc48a83c2d378b0445.5a003ade049d137eaf1c.js"],"names":["window","push","+rlA","module","exports","__webpack_require__","process","base","concat","env","SN_S3_BASE","SN_S3_BUCKET_NAME","resizeTo","name","shortName","width","skipPayload","generalSiteDescription","call","this","1OyB","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","d","22s3","forOne","forAll","_photos_constants__WEBPACK_IMPORTED_MODULE_0__","_src_title_service__WEBPACK_IMPORTED_MODULE_1__","buildUrl","_ref","selectedPhoto","feature","url","key","join","selectedPhotoSize","sizes","medium","og:type","og:site_name","og:title","Object","og:url","og:description","description","og:image","og:image:width","og:image:height","height","8oxB","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","prototype","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","BsWD","_unsupportedIterableToArray","_babel_runtime_helpers_esm_arrayLikeToArray__WEBPACK_IMPORTED_MODULE_0__","o","minLen","n","toString","slice","constructor","from","test","Et4X","availWidth","passedAvail","keys","filter","map","size","JX7q","_assertThisInitialized","self","ReferenceError","Ji7U","_setPrototypeOf","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","value","writable","configurable","ODXe","_slicedToArray","unsupportedIterableToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","_nonIterableRest","Tqpv","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","photo","className","children","latin","location","YFqc","a3WO","_arrayLikeToArray","arr2","cTJO","_interopRequireWildcard","__esModule","_react","_router","_router2","_useIntersection","prefetched","prefetch","router","href","as","options","isLocalURL","curLocale","locale","_default","props","useRouter","pathname","_react$default$useMem","useMemo","resolveHref","_ref2","resolvedHref","resolvedAs","replace","shallow","scroll","createElement","child","Children","only","childRef","ref","_ref3","useIntersection","rootMargin","_ref4","setIntersectionRef","isVisible","setRef","useCallback","el","current","useEffect","shouldPrefetch","isPrefetched","childProps","onClick","defaultPrevented","currentTarget","nodeName","event","target","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","isModifiedEvent","preventDefault","indexOf","then","success","scrollTo","document","body","focus","linkClicked","onMouseEnter","priority","passHref","type","addBasePath","addLocale","defaultLocale","cloneElement","foSv","_getPrototypeOf","getPrototypeOf","g4pe","jdka","classCallCheck","createClass","assertThisInitialized","inherits","possibleConstructorReturn","jsx_runtime","react","loaded","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","NewTarget","transition_image_TransitionImage","_PureComponent","TransitionImage","_super","_this","state","visible","onLoad","bind","src","setState","_this$props","alt","srcSet","style","opacity","md7G","_typeof","obj","_possibleConstructorReturn","qsyN","BASE_TITLE","photoTitle","Boolean","featureTitle","featureName","baseTitle","vNVm","_interopRequireDefault","isDisabled","disabled","hasIntersectionObserver","unobserve","useRef","useState","setVisible","tagName","element","callback","_createObserver","id","observers","get","elements","Map","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","intersectionRatio","set","createObserver","observe","disconnect","_requestIdleCallback","vuIU","_defineProperties","descriptor","enumerable","defineProperty","_createClass","protoProps","staticProps"],"mappings":"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"},"name":"static/chunks/c45100d10fae9f9823b4e9dc48a83c2d378b0445.5a003ade049d137eaf1c.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[3],{\n\n/***/ \"+rlA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {module.exports.base = \"\".concat(process.env.SN_S3_BASE, \"/\").concat(process.env.SN_S3_BUCKET_NAME);\nmodule.exports.resizeTo = [{\n  name: \"thumb\",\n  shortName: \"thumb\",\n  width: 220\n}, {\n  name: \"xsmall\",\n  shortName: \"xs\",\n  width: 500\n}, {\n  name: \"small\",\n  shortName: \"s\",\n  width: 1000\n}, {\n  name: \"medium\",\n  shortName: \"m\",\n  width: 1400\n}, {\n  name: \"large\",\n  shortName: \"l\",\n  width: 1900\n}, {\n  name: \"xlarge\",\n  shortName: \"xl\",\n  width: 2560\n}, {\n  name: \"xxlarge\",\n  shortName: \"xxl\",\n  skipPayload: true,\n  width: 3200\n}];\nmodule.exports.generalSiteDescription = \"Photos of sea critters, slender sharks, beautiful shrimps, lots of fish and splendid nudibranchs.\";\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"8oxB\")))\n\n/***/ }),\n\n/***/ \"1OyB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _classCallCheck; });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/***/ }),\n\n/***/ \"22s3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return forOne; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return forAll; });\n/* harmony import */ var _photos_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"+rlA\");\n/* harmony import */ var _photos_constants__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_photos_constants__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_title_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"qsyN\");\n/* harmony import */ var _src_title_service__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_title_service__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar name = \"The Splendid Nudibranch\";\n\nfunction buildUrl(_ref) {\n  var selectedPhoto = _ref.selectedPhoto,\n      feature = _ref.feature;\n  var url = \"http://www.thesplendidnudibranch.pink\";\n\n  if (selectedPhoto) {\n    return url + \"/photos/\".concat(selectedPhoto.key);\n  }\n\n  if (feature) {\n    url += \"/?feature=\".concat(feature.join(\"&feature=\"));\n  }\n\n  return url;\n} // todo\n\n\nvar feature = null;\nvar featureName = null;\nfunction forOne(selectedPhoto) {\n  var selectedPhotoSize = selectedPhoto.sizes.medium;\n  return {\n    \"og:type\": \"article\",\n    \"og:site_name\": name,\n    \"og:title\": feature ? Object(_src_title_service__WEBPACK_IMPORTED_MODULE_1__[\"featureTitle\"])(featureName) : Object(_src_title_service__WEBPACK_IMPORTED_MODULE_1__[\"photoTitle\"])(selectedPhoto),\n    \"og:url\": buildUrl({\n      selectedPhoto: selectedPhoto,\n      feature: feature\n    }),\n    \"og:description\": selectedPhoto.description,\n    \"og:image\": selectedPhotoSize.url,\n    \"og:image:width\": selectedPhotoSize.width,\n    \"og:image:height\": selectedPhotoSize.height\n  };\n}\nfunction forAll(selectedPhoto) {\n  return {\n    \"og:type\": \"article\",\n    \"og:site_name\": name,\n    \"og:title\": Object(_src_title_service__WEBPACK_IMPORTED_MODULE_1__[\"featureTitle\"])(featureName),\n    \"og:url\": buildUrl({\n      feature: feature\n    }),\n    \"og:description\": _photos_constants__WEBPACK_IMPORTED_MODULE_0__[\"generalSiteDescription\"],\n    \"og:image\": \"http://www.thesplendidnudibranch.pink/static/images/logo.png\",\n    \"og:image:width\": 1300,\n    \"og:image:height\": 616\n  };\n}\n\n/***/ }),\n\n/***/ \"8oxB\":\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ \"BsWD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _unsupportedIterableToArray; });\n/* harmony import */ var _babel_runtime_helpers_esm_arrayLikeToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"a3WO\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return Object(_babel_runtime_helpers_esm_arrayLikeToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Object(_babel_runtime_helpers_esm_arrayLikeToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(o, minLen);\n}\n\n/***/ }),\n\n/***/ \"Et4X\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (sizes, availWidth) {\n  var passedAvail = false;\n  return Object.keys(sizes).filter(function (key) {\n    var size = sizes[key];\n\n    if (size.width < availWidth) {\n      return true;\n    }\n\n    if (passedAvail) {\n      return false;\n    }\n\n    passedAvail = true;\n    return true;\n  }).map(function (key) {\n    var size = sizes[key];\n    return \"\".concat(size.url, \" \").concat(size.width, \"w\");\n  }).join(\", \");\n});\n\n/***/ }),\n\n/***/ \"JX7q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _assertThisInitialized; });\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/***/ }),\n\n/***/ \"Ji7U\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _inherits; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\n/***/ }),\n\n/***/ \"ODXe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _slicedToArray; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\nvar unsupportedIterableToArray = __webpack_require__(\"BsWD\");\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\n\n\n\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || Object(unsupportedIterableToArray[\"a\" /* default */])(arr, i) || _nonIterableRest();\n}\n\n/***/ }),\n\n/***/ \"Tqpv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nvar PhotoText = function PhotoText(_ref) {\n  var photo = _ref.photo;\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: \"photo-text-wrapper\",\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n      className: \"title\",\n      children: photo.title\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n      className: \"latin\",\n      children: photo.latin\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n      className: \"description\",\n      children: photo.description\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n      className: \"location\",\n      children: photo.location\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PhotoText);\n\n/***/ }),\n\n/***/ \"YFqc\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"cTJO\")\n\n\n/***/ }),\n\n/***/ \"a3WO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _arrayLikeToArray; });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\n/***/ }),\n\n/***/ \"cTJO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = __webpack_require__(\"J4zp\");\n\nvar _interopRequireWildcard = __webpack_require__(\"284h\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(\"q1tI\"));\n\nvar _router = __webpack_require__(\"elyg\");\n\nvar _router2 = __webpack_require__(\"nOHt\");\n\nvar _useIntersection = __webpack_require__(\"vNVm\");\n\nvar prefetched = {};\n\nfunction prefetch(router, href, as, options) {\n  if (false) {}\n  if (!(0, _router.isLocalURL)(href)) return; // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n\n  router.prefetch(href, as, options)[\"catch\"](function (err) {\n    if (false) {}\n  });\n  var curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale; // Join on an invalid URI character\n\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\n\nfunction isModifiedEvent(event) {\n  var target = event.currentTarget.target;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n  event.nativeEvent && event.nativeEvent.which === 2;\n}\n\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n  var nodeName = e.currentTarget.nodeName;\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !(0, _router.isLocalURL)(href))) {\n    // ignore click for browser’s default behavior\n    return;\n  }\n\n  e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0;\n  } // replace state instead of push if prop is present\n\n\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow: shallow,\n    locale: locale\n  }).then(function (success) {\n    if (!success) return;\n\n    if (scroll) {\n      window.scrollTo(0, 0);\n      document.body.focus();\n    }\n  });\n}\n\nfunction Link(props) {\n  if (false) { var hasWarned, optionalProps, optionalPropsGuard, requiredProps, requiredPropsGuard, createPropError; }\n\n  var p = props.prefetch !== false;\n  var router = (0, _router2.useRouter)();\n  var pathname = router && router.pathname || '/';\n\n  var _react$default$useMem = _react[\"default\"].useMemo(function () {\n    var _ref = (0, _router.resolveHref)(pathname, props.href, true),\n        _ref2 = _slicedToArray(_ref, 2),\n        resolvedHref = _ref2[0],\n        resolvedAs = _ref2[1];\n\n    return {\n      href: resolvedHref,\n      as: props.as ? (0, _router.resolveHref)(pathname, props.as) : resolvedAs || resolvedHref\n    };\n  }, [pathname, props.href, props.as]),\n      href = _react$default$useMem.href,\n      as = _react$default$useMem.as;\n\n  var children = props.children,\n      replace = props.replace,\n      shallow = props.shallow,\n      scroll = props.scroll,\n      locale = props.locale; // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n  if (typeof children === 'string') {\n    children = /*#__PURE__*/_react[\"default\"].createElement(\"a\", null, children);\n  } // This will return the first child, if multiple are provided it will throw an error\n\n\n  var child = _react.Children.only(children);\n\n  var childRef = child && typeof child === 'object' && child.ref;\n\n  var _ref3 = (0, _useIntersection.useIntersection)({\n    rootMargin: '200px'\n  }),\n      _ref4 = _slicedToArray(_ref3, 2),\n      setIntersectionRef = _ref4[0],\n      isVisible = _ref4[1];\n\n  var setRef = _react[\"default\"].useCallback(function (el) {\n    setIntersectionRef(el);\n\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [childRef, setIntersectionRef]);\n\n  (0, _react.useEffect)(function () {\n    var shouldPrefetch = isVisible && p && (0, _router.isLocalURL)(href);\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    var isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n  var childProps = {\n    ref: setRef,\n    onClick: function onClick(e) {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n      }\n    }\n  };\n\n  childProps.onMouseEnter = function (e) {\n    if (!(0, _router.isLocalURL)(href)) return;\n\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e);\n    }\n\n    prefetch(router, href, as, {\n      priority: true\n    });\n  }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n\n\n  if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n    childProps.href = (0, _router.addBasePath)((0, _router.addLocale)(as, typeof locale !== 'undefined' ? locale : router && router.locale, router && router.defaultLocale));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].cloneElement(child, childProps);\n}\n\nvar _default = Link;\nexports[\"default\"] = _default;\n\n/***/ }),\n\n/***/ \"foSv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _getPrototypeOf; });\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\n/***/ }),\n\n/***/ \"g4pe\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"8Kt/\")\n\n\n/***/ }),\n\n/***/ \"jdka\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"1OyB\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"vuIU\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"JX7q\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"Ji7U\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js + 1 modules\nvar possibleConstructorReturn = __webpack_require__(\"md7G\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"foSv\");\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// CONCATENATED MODULE: ./client/transition-image/loaded-images.js\nvar loaded = [];\nfunction setLoaded(url) {\n  loaded.push(url);\n}\nfunction isLoaded(url) {\n  return loaded.indexOf(url) !== -1;\n}\n// CONCATENATED MODULE: ./client/transition-image/index.js\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(possibleConstructorReturn[\"a\" /* default */])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\nvar transition_image_TransitionImage = /*#__PURE__*/function (_PureComponent) {\n  Object(inherits[\"a\" /* default */])(TransitionImage, _PureComponent);\n\n  var _super = _createSuper(TransitionImage);\n\n  function TransitionImage() {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, TransitionImage);\n\n    _this = _super.call(this);\n    _this.state = {\n      visible: false\n    };\n    _this.onLoad = _this.onLoad.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(TransitionImage, [{\n    key: \"onLoad\",\n    value: function onLoad() {\n      if (this.state.visible) {\n        // Some browsers call onLoad multiple times, perhaps due to srcSet\n        return;\n      }\n\n      setLoaded(this.props.src);\n      this.setState({\n        visible: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          alt = _this$props.alt,\n          onClick = _this$props.onClick,\n          src = _this$props.src,\n          srcSet = _this$props.srcSet,\n          sizes = _this$props.sizes;\n      var visible = this.state.visible || isLoaded(src);\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n        alt: alt || \"\",\n        className: \"transition-image\",\n        onClick: onClick,\n        onLoad: this.onLoad,\n        style: {\n          opacity: visible ? 1 : 0\n        },\n        srcSet: srcSet,\n        sizes: sizes\n      });\n    }\n  }]);\n\n  return TransitionImage;\n}(react[\"PureComponent\"]);\n\n/* harmony default export */ var transition_image = __webpack_exports__[\"a\"] = (transition_image_TransitionImage);\n\n/***/ }),\n\n/***/ \"md7G\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _possibleConstructorReturn; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"JX7q\");\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\n\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return Object(assertThisInitialized[\"a\" /* default */])(self);\n}\n\n/***/ }),\n\n/***/ \"qsyN\":\n/***/ (function(module, exports) {\n\nvar BASE_TITLE = \"The Splendid Nudibranch\";\n\nmodule.exports.photoTitle = function (photo) {\n  return [photo.title, BASE_TITLE].filter(Boolean).join(\" :: \");\n};\n\nmodule.exports.featureTitle = function (featureName) {\n  return [featureName, BASE_TITLE].filter(Boolean).join(\" :: \");\n};\n\nmodule.exports.baseTitle = function () {\n  return BASE_TITLE;\n};\n\n/***/ }),\n\n/***/ \"vNVm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = __webpack_require__(\"J4zp\");\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\");\n\nexports.__esModule = true;\nexports.useIntersection = useIntersection;\n\nvar _react = __webpack_require__(\"q1tI\");\n\nvar _requestIdleCallback = _interopRequireDefault(__webpack_require__(\"0G5g\"));\n\nvar hasIntersectionObserver = typeof IntersectionObserver !== 'undefined';\n\nfunction useIntersection(_ref) {\n  var rootMargin = _ref.rootMargin,\n      disabled = _ref.disabled;\n  var isDisabled = disabled || !hasIntersectionObserver;\n  var unobserve = (0, _react.useRef)();\n\n  var _ref2 = (0, _react.useState)(false),\n      _ref3 = _slicedToArray(_ref2, 2),\n      visible = _ref3[0],\n      setVisible = _ref3[1];\n\n  var setRef = (0, _react.useCallback)(function (el) {\n    if (unobserve.current) {\n      unobserve.current();\n      unobserve.current = undefined;\n    }\n\n    if (isDisabled || visible) return;\n\n    if (el && el.tagName) {\n      unobserve.current = observe(el, function (isVisible) {\n        return isVisible && setVisible(isVisible);\n      }, {\n        rootMargin: rootMargin\n      });\n    }\n  }, [isDisabled, rootMargin, visible]);\n  (0, _react.useEffect)(function () {\n    if (!hasIntersectionObserver) {\n      if (!visible) (0, _requestIdleCallback[\"default\"])(function () {\n        return setVisible(true);\n      });\n    }\n  }, [visible]);\n  return [setRef, visible];\n}\n\nfunction observe(element, callback, options) {\n  var _createObserver = createObserver(options),\n      id = _createObserver.id,\n      observer = _createObserver.observer,\n      elements = _createObserver.elements;\n\n  elements.set(element, callback);\n  observer.observe(element);\n  return function unobserve() {\n    observer.unobserve(element); // Destroy observer when there's nothing left to watch:\n\n    if (elements.size === 0) {\n      observer.disconnect();\n      observers[\"delete\"](id);\n    }\n  };\n}\n\nvar observers = new Map();\n\nfunction createObserver(options) {\n  var id = options.rootMargin || '';\n  var instance = observers.get(id);\n\n  if (instance) {\n    return instance;\n  }\n\n  var elements = new Map();\n  var observer = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var callback = elements.get(entry.target);\n      var isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n\n      if (callback && isVisible) {\n        callback(isVisible);\n      }\n    });\n  }, options);\n  observers.set(id, instance = {\n    id: id,\n    observer: observer,\n    elements: elements\n  });\n  return instance;\n}\n\n/***/ }),\n\n/***/ \"vuIU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _createClass; });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/***/ })\n\n}]);"}